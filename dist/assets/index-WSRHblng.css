*{margin:0;padding:0;box-sizing:border-box}:root{--primary-color: #4f46e5;--primary-hover: #4338ca;--secondary-color: #64748b;--success-color: #10b981;--danger-color: #ef4444;--bg-color: #f8fafc;--card-bg: #ffffff;--text-primary: #1e293b;--text-secondary: #64748b;--border-color: #e2e8f0;--shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05)}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background-color:var(--bg-color);color:var(--text-primary);line-height:1.6}.container{max-width:1200px;margin:0 auto;padding:1rem}header{background:var(--card-bg);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);margin-bottom:1.5rem;display:flex;justify-content:space-between;align-items:center}header h1{font-size:1.75rem;color:var(--primary-color)}.header-actions{display:flex;gap:.5rem}.main-nav{display:flex;gap:.5rem;margin-bottom:1.5rem;flex-wrap:wrap;background:var(--card-bg);padding:1rem;border-radius:12px;box-shadow:var(--shadow)}.nav-btn{padding:.75rem 1.5rem;border:none;background:transparent;color:var(--text-secondary);cursor:pointer;border-radius:8px;font-size:.95rem;font-weight:500;transition:all .2s}.nav-btn:hover{background:var(--bg-color);color:var(--text-primary)}.nav-btn.active{background:var(--primary-color);color:#fff}.page{display:none;animation:fadeIn .3s}.page.active{display:block}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.page-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.page-header h2{font-size:1.5rem;color:var(--text-primary)}.welcome-card{background:linear-gradient(135deg,var(--primary-color) 0%,#6366f1 100%);color:#fff;padding:2rem;border-radius:12px;margin-bottom:2rem;text-align:center}.welcome-card h2{font-size:2rem;margin-bottom:.5rem}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card{background:var(--card-bg);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);text-align:center}.stat-number{font-size:2rem;font-weight:700;color:var(--primary-color);margin-bottom:.5rem}.stat-label{color:var(--text-secondary);font-size:.9rem}.quick-actions{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}.action-btn{padding:1rem 2rem;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:var(--shadow)}.action-btn.primary{background:var(--primary-color);color:#fff}.action-btn.primary:hover{background:var(--primary-hover);transform:translateY(-2px);box-shadow:var(--shadow-lg)}.action-btn.secondary{background:var(--card-bg);color:var(--text-primary);border:2px solid var(--border-color)}.action-btn.secondary:hover{border-color:var(--primary-color);color:var(--primary-color)}.flashcard-container{display:flex;justify-content:center;margin:2rem 0;perspective:1000px}.flashcard{width:100%;max-width:500px;height:300px;position:relative;transform-style:preserve-3d;transition:transform .6s;cursor:pointer}.flashcard.flipped{transform:rotateY(180deg)}.flashcard-front,.flashcard-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;background:var(--card-bg);border-radius:12px;box-shadow:var(--shadow-lg);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2rem}.flashcard-back{transform:rotateY(180deg)}.word-display{font-size:2rem;font-weight:700;color:var(--text-primary);margin-bottom:1rem;text-align:center}.word-hint{color:var(--text-secondary);font-size:.9rem}.word-example{color:var(--text-secondary);font-style:italic;margin-top:1rem;text-align:center}.flashcard-controls{display:flex;justify-content:space-between;align-items:center;margin:1.5rem 0;padding:0 1rem}.card-counter{font-weight:600;color:var(--text-secondary)}.learn-actions{display:flex;gap:1rem;justify-content:center;margin-top:2rem}.btn{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s;background:var(--card-bg);color:var(--text-primary);border:1px solid var(--border-color)}.btn:hover{transform:translateY(-2px);box-shadow:var(--shadow)}.btn-primary{background:var(--primary-color);color:#fff;border:none}.btn-primary:hover{background:var(--primary-hover)}.btn-secondary{background:var(--secondary-color);color:#fff;border:none}.btn-success{background:var(--success-color);color:#fff;border:none}.btn-danger{background:var(--danger-color);color:#fff;border:none}.btn-icon{background:transparent;border:none;font-size:1.5rem;cursor:pointer;padding:.5rem;border-radius:8px;transition:background .2s}.btn-icon:hover{background:var(--bg-color)}.quiz-progress{margin-bottom:2rem}.progress-bar{width:100%;height:8px;background:var(--border-color);border-radius:4px;overflow:hidden;margin-bottom:.5rem}.progress-fill{height:100%;background:var(--primary-color);transition:width .3s;border-radius:4px}.quiz-start,.quiz-question,.quiz-result{text-align:center;padding:2rem}.question-card{background:var(--card-bg);padding:2rem;border-radius:12px;box-shadow:var(--shadow);margin:2rem 0}.quiz-options{display:flex;flex-direction:column;gap:1rem;margin-top:1.5rem}.quiz-option{padding:1rem;background:var(--bg-color);border:2px solid var(--border-color);border-radius:8px;cursor:pointer;transition:all .2s;text-align:left}.quiz-option:hover,.quiz-option.selected{border-color:var(--primary-color);background:#eef2ff}.quiz-option.correct{border-color:var(--success-color);background:#d1fae5}.quiz-option.incorrect{border-color:var(--danger-color);background:#fee2e2}.result-score{font-size:3rem;font-weight:700;color:var(--primary-color);margin:1rem 0}.result-percentage{font-size:1.5rem;color:var(--text-secondary);margin-bottom:2rem}.vocabulary-filters{display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap}.search-input{flex:1;min-width:200px;padding:.75rem;border:1px solid var(--border-color);border-radius:8px;font-size:1rem}.search-input-large{flex:1;padding:1rem;border:2px solid var(--border-color);border-radius:8px;font-size:1.1rem}.vocabulary-list{display:grid;gap:1rem}.vocab-item{background:var(--card-bg);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);display:flex;justify-content:space-between;align-items:center;transition:all .2s}.vocab-item:hover{box-shadow:var(--shadow-lg);transform:translateY(-2px)}.vocab-info{flex:1}.vocab-word{font-size:1.25rem;font-weight:700;color:var(--text-primary);margin-bottom:.5rem}.vocab-meaning{color:var(--text-secondary)}.vocab-actions{display:flex;gap:.5rem}.dictionary-search{background:var(--card-bg);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);margin-bottom:1.5rem}.search-box{display:flex;gap:1rem;margin-bottom:1rem}.dict-result{background:var(--card-bg);padding:2rem;border-radius:12px;box-shadow:var(--shadow);margin-bottom:1.5rem;min-height:200px}.dict-placeholder{text-align:center;color:var(--text-secondary);padding:3rem}.word-entry{margin-bottom:1.5rem}.word-entry-title{font-size:1.5rem;font-weight:700;color:var(--primary-color);margin-bottom:.5rem;cursor:pointer}.word-entry-title:hover{text-decoration:underline}.word-entry-meaning{font-size:1.1rem;color:var(--text-primary);margin-bottom:.5rem}.word-entry-example{color:var(--text-secondary);font-style:italic;margin-top:.5rem;padding-left:1rem;border-left:3px solid var(--primary-color)}.word-pronunciation,.word-hiragana,.word-katakana,.word-kanji{margin:.5rem 0;padding:.5rem;background:var(--bg-color);border-radius:6px;font-size:.95rem}.word-pronunciation{color:var(--primary-color);font-weight:600}.word-hiragana{color:#059669}.word-katakana{color:#dc2626}.word-kanji{color:#7c3aed}.word-note{font-size:.9rem;line-height:1.6}.etymology-info{background:var(--bg-color);padding:1rem;border-radius:8px;margin-top:1rem}.etymology-info h5{color:var(--primary-color);margin-bottom:.5rem}.search-history{background:var(--card-bg);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow)}.history-list{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:1rem}.history-item{padding:.5rem 1rem;background:var(--bg-color);border-radius:20px;cursor:pointer;transition:all .2s;font-size:.9rem}.history-item:hover{background:var(--primary-color);color:#fff}.reading-content{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.reading-text-container{background:var(--card-bg);padding:2rem;border-radius:12px;box-shadow:var(--shadow)}.reading-text{line-height:1.8;font-size:1.1rem;margin-bottom:1.5rem;min-height:400px}.reading-text .word-hoverable{position:relative;cursor:help;border-bottom:1px dotted var(--primary-color)}.reading-text .word-hoverable:hover{background:#eef2ff}.reading-questions{background:var(--card-bg);padding:2rem;border-radius:12px;box-shadow:var(--shadow)}.question-item{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border-color)}.question-item:last-child{border-bottom:none}.question-text{font-weight:600;margin-bottom:1rem}.question-options{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.question-option{padding:.75rem;background:var(--bg-color);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;transition:all .2s}.question-option:hover{border-color:var(--primary-color)}.test-selector{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.test-type-card{background:var(--card-bg);padding:2rem;border-radius:12px;box-shadow:var(--shadow);text-align:center;transition:all .2s}.test-type-card:hover{box-shadow:var(--shadow-lg);transform:translateY(-4px)}.test-type-card h3{font-size:1.5rem;margin-bottom:.5rem;color:var(--primary-color)}.test-progress{margin-bottom:2rem}.test-question{background:var(--card-bg);padding:2rem;border-radius:12px;box-shadow:var(--shadow);margin-bottom:1.5rem}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1000;justify-content:center;align-items:center;animation:fadeIn .2s}.modal.active{display:flex}.modal-content{background:var(--card-bg);border-radius:12px;box-shadow:var(--shadow-lg);max-width:500px;width:90%;max-height:90vh;overflow-y:auto;animation:slideUp .3s}.modal-large{max-width:800px}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--border-color)}.modal-header h3{font-size:1.5rem;color:var(--text-primary)}.modal-close{background:none;border:none;font-size:2rem;cursor:pointer;color:var(--text-secondary);line-height:1;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.modal-close:hover{background:var(--bg-color);color:var(--text-primary)}.modal-body{padding:1.5rem}.modal-footer{padding:1.5rem;border-top:1px solid var(--border-color);display:flex;justify-content:flex-end;gap:1rem}.form-group{margin-bottom:1.5rem}.form-group label{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-primary)}.form-group input,.form-group select{width:100%;padding:.75rem;border:1px solid var(--border-color);border-radius:8px;font-size:1rem;font-family:inherit}.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #4f46e51a}.progress-stats{display:grid;gap:1.5rem}.progress-card{background:var(--card-bg);padding:1.5rem;border-radius:12px;box-shadow:var(--shadow)}.progress-card h3{font-size:1.25rem;margin-bottom:1rem;color:var(--primary-color)}.stat-item{display:flex;justify-content:space-between;padding:.75rem 0;border-bottom:1px solid var(--border-color)}.stat-item:last-child{border-bottom:none}.language-selector{display:flex;align-items:center;gap:.5rem}.language-selector label{font-weight:500;color:var(--text-secondary)}.language-selector select{padding:.5rem;border:1px solid var(--border-color);border-radius:8px;font-size:.95rem}.kanji-hover,.etymology-hover{position:relative;cursor:help;border-bottom:1px dotted var(--primary-color)}.kanji-tooltip,.etymology-tooltip{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:var(--text-primary);color:#fff;padding:.5rem 1rem;border-radius:8px;white-space:nowrap;margin-bottom:.5rem;font-size:.9rem;z-index:100;box-shadow:var(--shadow-lg);opacity:0;pointer-events:none;transition:opacity .2s}.kanji-hover:hover .kanji-tooltip,.etymology-hover:hover .etymology-tooltip{opacity:1}.word-detail-section{margin-bottom:2rem}.word-detail-section h4{color:var(--primary-color);margin-bottom:1rem}.song-item{padding:1rem;background:var(--bg-color);border-radius:8px;margin-bottom:.5rem}.song-item h5{color:var(--text-primary);margin-bottom:.25rem}.song-item p{color:var(--text-secondary);font-size:.9rem}@media(max-width:768px){.reading-content{grid-template-columns:1fr}.main-nav{overflow-x:auto;-webkit-overflow-scrolling:touch}.nav-btn{white-space:nowrap}.stats-grid{grid-template-columns:repeat(2,1fr)}.test-selector{grid-template-columns:1fr}}.kanji-single{display:inline-block;padding:.25rem .5rem;margin:0 .1rem;cursor:pointer;border-radius:4px;transition:background .2s}.kanji-single:hover{background:#eef2ff}.kanji-single.selected{background:var(--primary-color);color:#fff}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>외국어 학습 도우미</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Supabase 클라이언트 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Tesseract.js OCR 라이브러리 -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
    <!-- 다국어 지원 -->
    <script src="i18n.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>🌍 외국어 학습 도우미</h1>
            <div class="header-actions">
                <!-- 언어 선택 -->
                <select id="languageSelector" class="language-selector-dropdown" style="margin-right: 1rem; padding: 0.5rem; border-radius: 6px; border: 1px solid var(--border-color); background: var(--bg-primary); color: var(--text-primary); font-size: 0.9rem;">
                    <option value="ko">🇰🇷 한국어</option>
                    <option value="ja">🇯🇵 日本語</option>
                    <option value="en">🇺🇸 English</option>
                    <option value="zh">🇨🇳 中文</option>
                </select>
                <span id="userInfo" style="display: none; margin-right: 1rem; color: var(--text-primary); font-weight: 600;"></span>
                <button class="btn-icon" id="loginBtn" title="로그인" style="display: none;">🔐</button>
                <button class="btn-icon" id="logoutBtn" title="로그아웃" style="display: none;">🚪</button>
                <button class="btn-icon" id="accountBtn" title="계정 관리" style="display: none;">👤</button>
                <button class="btn-icon" id="settingsBtn" title="설정">⚙️</button>
            </div>
        </header> 

        <nav class="main-nav">
            <button class="nav-btn active" data-page="home">홈</button>
            <button class="nav-btn" data-page="vocabulary">단어장</button>
            <button class="nav-btn" data-page="reading">독해</button>
            <button class="nav-btn" data-page="mocktest">모의고사</button>
            <button class="nav-btn" data-page="progress">진행상황</button>
        </nav>

        <main>
            <!-- 홈 페이지 -->
            <section id="home-page" class="page active">
                <div class="welcome-card">
                    <h2>환영합니다! 👋</h2>
                    <p>외국어 학습을 시작해보세요.</p>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalWords">0</div>
                        <div class="stat-label">총 단어</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="learnedWords">0</div>
                        <div class="stat-label">학습한 단어</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="quizScore">0%</div>
                        <div class="stat-label">퀴즈 정답률</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="studyStreak">0</div>
                        <div class="stat-label">연속 학습일</div>
                    </div>
                </div>
                <div class="quick-actions">
                    <button class="action-btn primary" onclick="showPage('learn')">
                        📚 학습 시작하기
                    </button>
                    <button class="action-btn secondary" onclick="showPage('quiz')">
                        ✏️ 퀴즈 풀기
                    </button>
                </div>
            </section>

            <!-- 학습 페이지 -->
            <section id="learn-page" class="page">
                <div class="page-header">
                    <h2>📚 단어 학습</h2>
                    <div class="language-selector">
                        <label>학습 언어:</label>
                        <select id="learnLanguage">
                            <option value="ja" selected>일본어</option>
                            <option value="en">영어</option>
                            <option value="ko">한국어</option>
                            <option value="zh">중국어</option>
                            <option value="es">스페인어</option>
                        </select>
                    </div>
                </div>
                <div class="flashcard-container">
                    <!-- 일본어 플래시카드 퀴즈 -->
                    <div id="flashcardQuiz" style="display: none;">
                        <div class="flashcard-quiz-card">
                            <div class="quiz-word-section">
                                <div class="word-display" id="flashcardWord">단어</div>
                                <div class="word-hiragana" id="flashcardHiragana" style="display: none;"></div>
                            </div>
                            <div class="quiz-question-text">이 단어의 뜻은?</div>
                            <div class="flashcard-options-container" id="flashcardOptions">
                                <!-- 선택지가 여기에 동적으로 추가됩니다 -->
                            </div>
                            <div id="flashcardFeedback" style="display: none; margin-top: 1rem;"></div>
                        </div>
                    </div>
                    
                    <!-- 기존 플래시카드 (다른 언어용) -->
                    <div class="flashcard" id="flashcard">
                        <div class="flashcard-front">
                            <div class="word-display" id="wordDisplay">단어를 추가해주세요</div>
                            <div class="word-hint">카드를 클릭하여 뒤집기</div>
                        </div>
                        <div class="flashcard-back">
                            <div class="word-display" id="meaningDisplay">의미를 추가해주세요</div>
                            <div class="word-example" id="exampleDisplay"></div>
                        </div>
                    </div>
                </div>
                <div class="flashcard-controls">
                    <button class="btn" id="prevBtn">◀ 이전</button>
                    <div class="card-counter">
                        <span id="currentCard">0</span> / <span id="totalCards">0</span>
                    </div>
                    <button class="btn" id="nextBtn">다음 ▶</button>
                </div>
                <div class="learn-actions" id="learnActions" style="display: none;">
                    <button class="btn btn-success" id="knowBtn">알고 있음 ✓</button>
                    <button class="btn btn-danger" id="dontKnowBtn">모름 ✗</button>
                </div>
            </section>

            <!-- 퀴즈 페이지 -->
            <section id="quiz-page" class="page">
                <div class="page-header">
                    <h2>✏️ 퀴즈</h2>
                    <div class="quiz-settings">
                        <label>문제 수:</label>
                        <select id="quizCount">
                            <option value="5">5문제</option>
                            <option value="10" selected>10문제</option>
                            <option value="20">20문제</option>
                        </select>
                    </div>
                </div>
                <div id="quiz-container">
                    <div class="quiz-start" id="quiz-start">
                        <p>퀴즈를 시작하시겠습니까?</p>
                        <button class="btn btn-primary" id="startQuizBtn">퀴즈 시작</button>
                    </div>
                    <div class="quiz-question" id="quiz-question" style="display: none;">
                        <div class="quiz-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="quizProgress"></div>
                            </div>
                            <span id="quizProgressText">1 / 10</span>
                        </div>
                        <div class="question-card">
                            <h3 id="quizQuestionText">질문</h3>
                            <div class="quiz-options" id="quizOptions"></div>
                        </div>
                        <button class="btn btn-primary" id="submitAnswerBtn" disabled>답변 제출</button>
                    </div>
                    <div class="quiz-result" id="quiz-result" style="display: none;">
                        <h3>퀴즈 결과</h3>
                        <div class="result-score">
                            <span id="quizScoreDisplay">0</span> / <span id="quizTotalDisplay">0</span>
                        </div>
                        <div class="result-percentage" id="resultPercentage">0%</div>
                        <button class="btn btn-primary" id="retryQuizBtn">다시 풀기</button>
                    </div>
                </div>
            </section>

            <!-- 단어장 페이지 (통합) -->
            <section id="vocabulary-page" class="page">
                <div class="page-header">
                    <h2>📖 단어장</h2>
                    <div id="certificationInfo" style="margin-top: 0.5rem;">
                        <span id="currentCertification" style="color: var(--text-secondary); font-size: 0.9rem;"></span>
                    </div>
                </div>
                <div class="vocabulary-filters">
                    <input type="text" id="searchWord" placeholder="단어 검색..." class="search-input">
                    <button class="btn btn-secondary" id="refreshVocabBtn">🔄 새로고침</button>
                </div>
                <div id="vocabularyStats" style="margin: 1rem 0; padding: 1rem; background: var(--bg-secondary); border-radius: 8px; display: none;">
                    <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
                        <div>
                            <strong>총 단어 수:</strong> <span id="totalWordCount">0</span>
                        </div>
                        <div>
                            <strong>학습한 단어:</strong> <span id="learnedWordCount">0</span>
                        </div>
                        <div>
                            <strong>학습률:</strong> <span id="learningRate">0%</span>
                        </div>
                    </div>
                </div>
                <div class="vocabulary-list" id="vocabularyList">
                    <div style="text-align: center; padding: 3rem; color: var(--text-secondary);">
                        <p>설정에서 목표 자격증을 선택하면 해당 자격증의 단어 리스트가 표시됩니다.</p>
                        <button class="btn btn-primary" onclick="document.getElementById('settingsBtn').click()" style="margin-top: 1rem;">
                            ⚙️ 설정 열기
                        </button>
                    </div>
                </div>
            </section>

            <!-- 사전 페이지 -->
            <section id="dictionary-page" class="page">
                <div class="page-header">
                    <h2>📖 사전</h2>
                </div>
                <div class="dictionary-search">
                    <div class="search-box">
                        <input type="text" id="dictSearchInput" placeholder="단어를 검색하세요..." class="search-input-large">
                        <button class="btn btn-primary" id="dictSearchBtn">검색</button>
                    </div>
                    <div class="language-selector">
                        <label>언어:</label>
                        <select id="dictLanguage">
                            <option value="ja" selected>일본어</option>
                            <option value="en">영어</option>
                            <option value="ko">한국어</option>
                            <option value="zh">중국어</option>
                            <option value="es">스페인어</option>
                        </select>
                    </div>
                    <div class="api-key-info">
                        <small style="color: var(--text-secondary);">
                            💡 로컬 사전 사용 (vocabulary/dictionary.json)
                        </small>
                    </div>
                </div>
                <div id="dictResult" class="dict-result">
                    <div class="dict-placeholder">검색어를 입력하세요</div>
                </div>
                <div class="search-history">
                    <h3>최근 검색 기록</h3>
                    <div id="searchHistoryList" class="history-list"></div>
                </div>
            </section>

            <!-- 독해 페이지 -->
            <section id="reading-page" class="page">
                <div class="page-header">
                    <h2>📄 독해 연습</h2>
                    <div class="reading-actions">
                        <button class="btn btn-secondary" id="uploadImageBtn">📷 사진에서 텍스트 추출</button>
                        <input type="file" id="imageInput" accept="image/*" style="display: none;">
                        <button class="btn btn-primary" id="ttsBtn" style="display: none;">🔊 읽어주기</button>
                        <button class="btn btn-warning" id="ttsPauseBtn" style="display: none;">⏸️ 일시정지</button>
                        <button class="btn btn-danger" id="ttsStopBtn" style="display: none;">⏹️ 중지</button>
                    </div>
                </div>
                <div class="reading-content">
                    <div class="reading-text-container">
                        <div id="readingText" class="reading-text" contenteditable="false">
                            <div id="text-body">
                                <p>독해 지문을 선택하거나 사진을 업로드하여 텍스트를 추출하세요.</p>
                            </div>
                        </div>
                        <div class="reading-controls">
                            <button class="btn btn-secondary" id="editTextBtn" style="display: none;">✏️ 텍스트 수정</button>
                            <button class="btn btn-secondary" id="saveTextBtn" style="display: none;">💾 저장</button>
                            <button class="btn btn-secondary" id="loadReadingBtn">새 독해 지문 불러오기</button>
                        </div>
                    </div>
                    <div class="reading-questions" id="readingQuestions">
                        <h3>문제</h3>
                        <div id="questionsList"></div>
                    </div>
                </div>
            </section>

            <!-- 모의고사 페이지 -->
            <section id="mocktest-page" class="page">
                <div class="page-header">
                    <h2>📝 모의고사 / 레벨테스트</h2>
                </div>
                <div class="test-selector">
                    <div class="test-type-card" data-test="mock">
                        <h3>모의고사</h3>
                        <p>실제 시험 형식의 모의고사</p>
                        <button class="btn btn-primary" onclick="startMockTest()">시작하기</button>
                    </div>
                    <div class="test-type-card" data-test="level">
                        <h3>레벨테스트</h3>
                        <p>나의 실력을 측정해보세요</p>
                        <button class="btn btn-primary" onclick="startLevelTest()">시작하기</button>
                    </div>
                </div>
                <div id="testContainer" style="display: none;">
                    <div class="test-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="testProgress"></div>
                        </div>
                        <span id="testProgressText">0 / 0</span>
                    </div>
                    <div class="test-question" id="testQuestion"></div>
                    <div class="test-actions">
                        <button class="btn btn-primary" id="submitTestBtn">답안 제출</button>
                    </div>
                </div>
                <div id="testResult" style="display: none;">
                    <h3>시험 결과</h3>
                    <div class="result-summary" id="testResultSummary"></div>
                    <div class="result-details" id="testResultDetails"></div>
                    <button class="btn btn-primary" id="retryTestBtn">다시 풀기</button>
                </div>
            </section>

            <!-- 진행상황 페이지 -->
            <section id="progress-page" class="page">
                <div class="page-header">
                    <h2>📊 학습 진행상황</h2>
                </div>
                <div class="progress-stats">
                    <div class="progress-card">
                        <h3>전체 통계</h3>
                        <div class="stat-item">
                            <span>총 학습 단어:</span>
                            <span id="progressTotalWords">0</span>
                        </div>
                        <div class="stat-item">
                            <span>완전히 학습한 단어:</span>
                            <span id="progressLearnedWords">0</span>
                        </div>
                        <div class="stat-item">
                            <span>학습 중인 단어:</span>
                            <span id="progressLearningWords">0</span>
                        </div>
                    </div>
                    <div class="progress-card">
                        <h3>언어별 통계</h3>
                        <div id="languageStats"></div>
                    </div>
                    <div class="progress-card">
                        <h3>최근 학습 활동</h3>
                        <div id="recentActivity"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 단어 추가 모달 -->
        <div class="modal" id="addWordModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>단어 추가</h3>
                    <button class="modal-close" id="closeModalBtn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>언어</label>
                        <select id="modalLanguage">
                            <option value="ja" selected>일본어</option>
                            <option value="en">영어</option>
                            <option value="ko">한국어</option>
                            <option value="zh">중국어</option>
                            <option value="es">스페인어</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>단어</label>
                        <input type="text" id="modalWord" placeholder="단어를 입력하세요">
                    </div>
                    <div class="form-group">
                        <label>의미</label>
                        <input type="text" id="modalMeaning" placeholder="의미를 입력하세요">
                    </div>
                    <div class="form-group">
                        <label>예문 (선택사항)</label>
                        <input type="text" id="modalExample" placeholder="예문을 입력하세요">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancelAddBtn">취소</button>
                    <button class="btn btn-primary" id="saveWordBtn">저장</button>
                </div>
            </div>
        </div>

        <!-- 로그인 모달 -->
        <div class="modal" id="loginModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>로그인</h3>
                    <button class="modal-close" onclick="closeModal('loginModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="loginEmail">이메일 또는 사용자명:</label>
                        <input type="text" id="loginEmail" placeholder="이메일 또는 사용자명 입력">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">비밀번호:</label>
                        <input type="password" id="loginPassword" placeholder="비밀번호 입력">
                    </div>
                    <div id="loginError" style="color: var(--danger-color); margin-top: 0.5rem; display: none;"></div>
                    <div class="modal-actions">
                        <button class="btn btn-primary" onclick="handleLogin()">로그인</button>
                        <button class="btn btn-secondary" onclick="showSignupModal()">회원가입</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 회원가입 모달 -->
        <div class="modal" id="signupModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>회원가입</h3>
                    <button class="modal-close" onclick="closeModal('signupModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="signupUsername">사용자명:</label>
                        <input type="text" id="signupUsername" placeholder="사용자명 입력">
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">이메일:</label>
                        <input type="email" id="signupEmail" placeholder="이메일 입력">
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">비밀번호:</label>
                        <input type="password" id="signupPassword" placeholder="비밀번호 입력">
                    </div>
                    <div class="form-group">
                        <label for="signupPasswordConfirm">비밀번호 확인:</label>
                        <input type="password" id="signupPasswordConfirm" placeholder="비밀번호 다시 입력">
                    </div>
                    <div id="signupError" style="color: var(--danger-color); margin-top: 0.5rem; display: none;"></div>
                    <div class="modal-actions">
                        <button class="btn btn-primary" onclick="handleSignup()">회원가입</button>
                        <button class="btn btn-secondary" onclick="showLoginModal()">로그인</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 계정 관리 모달 -->
        <div class="modal" id="accountModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>계정 관리</h3>
                    <button class="modal-close" onclick="closeModal('accountModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="accountInfo" style="margin-bottom: 1.5rem;">
                        <p><strong>사용자명:</strong> <span id="accountUsername"></span></p>
                        <p><strong>이메일:</strong> <span id="accountEmail"></span></p>
                    </div>
                    
                    <div class="account-section">
                        <h4>비밀번호 변경</h4>
                        <div class="form-group">
                            <label for="currentPassword">현재 비밀번호:</label>
                            <input type="password" id="currentPassword" placeholder="현재 비밀번호 입력">
                        </div>
                        <div class="form-group">
                            <label for="newPassword">새 비밀번호:</label>
                            <input type="password" id="newPassword" placeholder="새 비밀번호 입력">
                        </div>
                        <div class="form-group">
                            <label for="newPasswordConfirm">새 비밀번호 확인:</label>
                            <input type="password" id="newPasswordConfirm" placeholder="새 비밀번호 다시 입력">
                        </div>
                        <div id="passwordChangeError" style="color: var(--danger-color); margin-top: 0.5rem; display: none;"></div>
                        <div id="passwordChangeSuccess" style="color: var(--success-color); margin-top: 0.5rem; display: none;"></div>
                        <button class="btn btn-primary" onclick="handlePasswordChange()">비밀번호 변경</button>
                    </div>

                    <div class="account-section" style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                        <h4 style="color: var(--danger-color);">위험한 작업</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">
                            회원 탈퇴 시 모든 데이터가 삭제되며 복구할 수 없습니다.
                        </p>
                        <div class="form-group">
                            <label for="deletePasswordConfirm">비밀번호 확인:</label>
                            <input type="password" id="deletePasswordConfirm" placeholder="탈퇴를 위해 비밀번호 입력">
                        </div>
                        <div id="deleteError" style="color: var(--danger-color); margin-top: 0.5rem; display: none;"></div>
                        <button class="btn btn-danger" onclick="handleAccountDeletion()">회원 탈퇴</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 설정 모달 -->
        <div class="modal" id="settingsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>설정</h3>
                    <button class="modal-close" id="closeSettingsBtn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>목표 자격증</label>
                        <select id="targetCertification">
                            <option value="none">없음</option>
                            <option value="jlpt-n5">JLPT N5</option>
                            <option value="jlpt-n4">JLPT N4</option>
                            <option value="jlpt-n3">JLPT N3</option>
                            <option value="jlpt-n2">JLPT N2</option>
                            <option value="jlpt-n1">JLPT N1</option>
                            <option value="toeic-reading">TOEIC Reading</option>
                            <option value="topik-1">TOPIK 1급</option>
                            <option value="topik-2">TOPIK 2급</option>
                            <option value="topik-3">TOPIK 3급</option>
                            <option value="topik-4">TOPIK 4급</option>
                            <option value="topik-5">TOPIK 5급</option>
                            <option value="topik-6">TOPIK 6급</option>
                            <option value="hsk-1">HSK 1급</option>
                            <option value="hsk-2">HSK 2급</option>
                            <option value="hsk-3">HSK 3급</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>일일 목표 단어 수 (일본어 플래시카드)</label>
                        <input type="number" id="dailyGoal" min="1" max="100" value="10">
                    </div>
                    <div class="form-group" style="padding: 1rem; background: #e8f5e9; border-radius: 8px; margin-bottom: 1rem;">
                        <strong style="color: #2e7d32;">💡 언어 자동 감지</strong>
                        <p style="margin-top: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">
                            텍스트 언어가 자동으로 감지되어 읽어줍니다 (일본어/영어/한국어/중국어 지원)
                        </p>
                    </div>
                    <div class="form-group">
                        <label>읽는 속도: <span id="ttsRateValue">1.0</span>x</label>
                        <input type="range" id="ttsRate" min="0.5" max="2.0" step="0.1" value="1.0">
                        <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                            느림 (0.5x) ← → 빠름 (2.0x)
                        </small>
                    </div>
                    <div class="form-group">
                        <label>음성 높이: <span id="ttsPitchValue">1.0</span></label>
                        <input type="range" id="ttsPitch" min="0.5" max="2.0" step="0.1" value="1.0">
                        <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                            낮음 (0.5) ← → 높음 (2.0)
                        </small>
                    </div>
                    <div class="form-group">
                        <label>볼륨: <span id="ttsVolumeValue">100</span>%</label>
                        <input type="range" id="ttsVolume" min="0" max="1" step="0.1" value="1.0">
                        <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
                            작음 (0%) ← → 큼 (100%)
                        </small>
                    </div>
                    <div class="form-group" style="padding: 1rem; background: #e0f2fe; border-radius: 8px; margin-top: 1rem;">
                        <strong style="color: #0369a1;">✅ 일본어 사전 기능</strong>
                        <p style="margin-top: 0.5rem; color: var(--text-secondary); font-size: 0.9rem;">
                            로컬 사전 파일(vocabulary/dictionary.json)을 사용합니다.<br>
                            독해 문제를 풀고 나면 지문의 단어에 마우스를 올려 뜻을 확인할 수 있습니다.
                        </p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="saveSettingsBtn">저장</button>
                </div>
            </div>
        </div>

        <!-- 단어 상세 모달 (어원, 노래 추천 등) -->
        <div class="modal" id="wordDetailModal">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h3 id="wordDetailTitle">단어 상세</h3>
                    <button class="modal-close" id="closeWordDetailBtn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="word-detail-section">
                        <h4>의미</h4>
                        <div id="wordDetailMeaning"></div>
                    </div>
                    <div class="word-detail-section" id="etymologySection" style="display: none;">
                        <h4>어원</h4>
                        <div id="wordEtymology"></div>
                    </div>
                    <div class="word-detail-section" id="songSection" style="display: none;">
                        <h4>노래 추천</h4>
                        <div id="wordSongs"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Supabase 클라이언트 설정 (supabase_client.js를 먼저 로드) -->
    <script src="supabase_client.js"></script>
    <!-- Google Gemini API 설정 (선택사항) -->
    <script src="gemini_config.js" onerror="console.warn('Gemini API 설정 파일이 없습니다. Tesseract.js를 사용합니다.')"></script>
    <script src="app.js"></script>
</body>
</html>

